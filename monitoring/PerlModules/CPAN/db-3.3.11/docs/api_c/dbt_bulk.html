<!--$Id$-->
<!--Copyright 1997-2001 by Sleepycat Software, Inc.-->
<!--All rights reserved.-->
<html>
<head>
<title>Berkeley DB: DBT</title>
<meta name="description" content="Berkeley DB: An embedded database programmatic toolkit.">
<meta name="keywords" content="embedded,database,programmatic,toolkit,b+tree,btree,hash,hashing,transaction,transactions,locking,logging,access method,access methods,java,C,C++">
</head>
<body bgcolor=white>
<a name="2"><!--meow--></a>
<table width="100%"><tr valign=top>
<td>
<h1>DBT: Bulk Retrieval</h1>
</td>
<td align=right>
<a href="../api_c/c_index.html"><img src="../images/api.gif" alt="API"></a><a href="../reftoc.html"><img src="../images/ref.gif" alt="Ref"></a>
</td></tr></table>
<hr size=1 noshade>
<tt>
<a name="3"><!--meow--></a>
<p>If either of the DB_MULTIPLE or DB_MULTIPLE_KEY flags
were specified to the <a href="../api_c/db_get.html">DB-&gt;get</a> or <a href="../api_c/dbc_get.html">DBcursor-&gt;c_get</a> functions, the data
<a href="../api_c/dbt.html">DBT</a> returned by those interfaces will refer to a buffer that
is filled with data.  Access to that data is through the following
macros:
<p><dl compact>
<p><dt><a name="DB_MULTIPLE_INIT">DB_MULTIPLE_INIT</a><dd><pre>DB_MULTIPLE_INIT(void *pointer, <a href="../api_c/dbt.html">DBT</a> *data);</pre>
<p>Initialize the retrieval.  The <b>pointer</b> argument is a variable
to be initialized.  The <b>data</b> argument is a <a href="../api_c/dbt.html">DBT</a> structure
returned from a successful call to <a href="../api_c/db_get.html">DB-&gt;get</a> or <a href="../api_c/dbc_get.html">DBcursor-&gt;c_get</a>
for which one of the DB_MULTIPLE or DB_MULTIPLE_KEY
flags was specified.
<p><dt><a name="DB_MULTIPLE_NEXT">DB_MULTIPLE_NEXT</a><dd><pre>DB_MULTIPLE_NEXT(void *pointer, <a href="../api_c/dbt.html">DBT</a> *data, void *retdata, size_t retdlen);</pre>
<p>The <b>data</b> argument is a <a href="../api_c/dbt.html">DBT</a> structure returned from a
successful call to <a href="../api_c/db_get.html">DB-&gt;get</a> or <a href="../api_c/dbc_get.html">DBcursor-&gt;c_get</a> for which the
DB_MULTIPLE flag was specified.  The <b>pointer</b> and
<b>data</b> arguments must have been previously initialized by a call
to DB_MULTIPLE_INIT.  The <b>retdata</b> argument is set to
refer to the next data element in the returned set, and the
<b>retdlen</b> argument is set to the length, in bytes, of that data
element.  When used with the Queue and Recno access methods,
<b>retdata</b> will be set to NULL for deleted records.  The
<b>pointer</b> argument is set to NULL if there are no more data
elements in the returned set.
<p><dt><a name="DB_MULTIPLE_KEY_NEXT">DB_MULTIPLE_KEY_NEXT</a><dd><pre>DB_MULTIPLE_KEY_NEXT(void *pointer, <a href="../api_c/dbt.html">DBT</a> *data,
	void *retkey, size_t retklen, void *retdata, size_t retdlen);</pre>
<p>The <b>data</b> argument is a <a href="../api_c/dbt.html">DBT</a> structure returned from a
successful call to <a href="../api_c/db_get.html">DB-&gt;get</a> or <a href="../api_c/dbc_get.html">DBcursor-&gt;c_get</a> for which the
DB_MULTIPLE_KEY flag was specified.  The <b>pointer</b> and
<b>data</b> arguments must have been previously initialized by a call
to DB_MULTIPLE_INIT.  The <b>retkey</b> argument is set to
refer to the next key element in the returned set, and the
<b>retklen</b> argument is set to the length, in bytes, of that key
element.  The <b>retdata</b> argument is set to refer to the next data
element in the returned set, and the <b>retdlen</b> argument is set to
the length, in bytes, of that data element.  The <b>pointer</b>
argument is set to NULL if there are no more key/data pairs in the
returned set.
<p><dt><a name="DB_MULTIPLE_RECNO_NEXT">DB_MULTIPLE_RECNO_NEXT</a><dd><pre>DB_MULTIPLE_RECNO_NEXT(void *pointer, <a href="../api_c/dbt.html">DBT</a> *data,
	db_recno_t recno, void * retdata, size_t retdlen);</pre>
<p>The <b>data</b> argument is a <a href="../api_c/dbt.html">DBT</a> structure returned from a
successful call to <a href="../api_c/db_get.html">DB-&gt;get</a> or <a href="../api_c/dbc_get.html">DBcursor-&gt;c_get</a> for which the
DB_MULTIPLE_KEY flag was specified.  The <b>pointer</b> and
<b>data</b> arguments must have been previously initialized by a call
to DB_MULTIPLE_INIT.  The <b>recno</b> argument is set to the
record number of the next record in the returned set.  The
<b>retdata</b> argument is set to refer to the next data element in
the returned set, and the <b>retdlen</b> argument is set to the length,
in bytes, of that data element.  When used with the Queue and Recno
access methods, <b>retdata</b> will be set to NULL for deleted
records.  The <b>pointer</b> argument is set to NULL if there are
no more key/data pairs in the returned set.
</dl>
</tt>
<table width="100%"><tr><td><br></td><td align=right>
<a href="../api_c/c_index.html"><img src="../images/api.gif" alt="API"></a><a href="../reftoc.html"><img src="../images/ref.gif" alt="Ref"></a>
</td></tr></table>
<p><font size=1><a href="http://www.sleepycat.com">Copyright Sleepycat Software</a></font>
</body>
</html>
