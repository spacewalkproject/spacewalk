<!--$Id$-->
<!--Copyright 1997-2001 by Sleepycat Software, Inc.-->
<!--All rights reserved.-->
<html>
<head>
<title>Berkeley DB Reference Guide: Configuring logging</title>
<meta name="description" content="Berkeley DB: An embedded database programmatic toolkit.">
<meta name="keywords" content="embedded,database,programmatic,toolkit,b+tree,btree,hash,hashing,transaction,transactions,locking,logging,access method,access methods,java,C,C++">
</head>
<body bgcolor=white>
<a name="2"><!--meow--></a>
<table width="100%"><tr valign=top>
<td><h3><dl><dt>Berkeley DB Reference Guide:<dd>Logging Subsystem</dl></h3></td>
<td align=right><a href="../../ref/log/intro.html"><img src="../../images/prev.gif" alt="Prev"></a><a href="../../reftoc.html"><img src="../../images/ref.gif" alt="Ref"></a><a href="../../ref/log/limits.html"><img src="../../images/next.gif" alt="Next"></a>
</td></tr></table>
<p>
<h1 align=center>Configuring logging</h1>
<p>The aspects of logging that may be configured are the size of the
logging subsystem's region, the size of the log files on disk and the
size of the log buffer in memory.  The <a href="../../api_c/env_set_lg_regionmax.html">DB_ENV-&gt;set_lg_regionmax</a>
interface specifies the size of the logging subsystem's region, in
bytes.  The logging subsystem's default size is 60KB.  This value may
need to be increased if a large number of files are registered with the
Berkeley DB log manager, for example, by opening a large number of Berkeley DB
database files in a transactional application.
<p>The <a href="../../api_c/env_set_lg_max.html">DB_ENV-&gt;set_lg_max</a> interface specifies the individual log file
size for all the applications sharing the Berkeley DB environment.  Setting
the log file size is largely a matter of convenience and a reflection
of the application's preferences in backup media and frequency.
However, setting the log file size too low can potentially cause
problems because it would be possible to run out of log sequence
numbers, which requires a full archival and application restart to
reset.  See <a href="../../ref/log/limits.html">Log file limits</a> for more
information.
<p>The <a href="../../api_c/env_set_lg_bsize.html">DB_ENV-&gt;set_lg_bsize</a> interface specifies the size of the
in-memory log buffer, in bytes.  Log information is stored in memory
until the buffer fills up or transaction commit forces the buffer to be
written to disk.  Larger buffer sizes can significantly increase
throughput in the presence of long-running transactions, highly
concurrent applications, or transactions producing large amounts of
data.  By default, the buffer is 32KB.
<table width="100%"><tr><td><br></td><td align=right><a href="../../ref/log/intro.html"><img src="../../images/prev.gif" alt="Prev"></a><a href="../../reftoc.html"><img src="../../images/ref.gif" alt="Ref"></a><a href="../../ref/log/limits.html"><img src="../../images/next.gif" alt="Next"></a>
</td></tr></table>
<p><font size=1><a href="http://www.sleepycat.com">Copyright Sleepycat Software</a></font>
</body>
</html>
