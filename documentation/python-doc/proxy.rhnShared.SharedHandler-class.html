<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>proxy.rhnShared.SharedHandler</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="proxy-module.html">Package&nbsp;proxy</a> ::
        <a href="proxy.rhnShared-module.html">Module&nbsp;rhnShared</a> ::
        Class&nbsp;SharedHandler
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="proxy.rhnShared.SharedHandler-class.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== CLASS DESCRIPTION ==================== -->
<h1 class="epydoc">Class SharedHandler</h1><p class="nomargin-top"><span class="codelink"><a href="proxy.rhnShared-pysrc.html#SharedHandler">source&nbsp;code</a></span></p>
<p>Shared handler class (between rhnBroker and rhnRedirect. *** only 
  inherited ***</p>

<!-- ==================== INSTANCE METHODS ==================== -->
<a name="section-InstanceMethods"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Instance Methods</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-InstanceMethods"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="__init__"></a><span class="summary-sig-name">__init__</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">req</span>)</span><br />
      init with http request object</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="proxy.rhnShared-pysrc.html#SharedHandler.__init__">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_prepHandler"></a><span class="summary-sig-name">_prepHandler</span>(<span class="summary-sig-arg">self</span>)</span><br />
      Handler part 0</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="proxy.rhnShared-pysrc.html#SharedHandler._prepHandler">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_connectToParent"></a><span class="summary-sig-name">_connectToParent</span>(<span class="summary-sig-arg">self</span>)</span><br />
      Handler part 1 Should not return an error code -- simply connects.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="proxy.rhnShared-pysrc.html#SharedHandler._connectToParent">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_create_connection"></a><span class="summary-sig-name">_create_connection</span>(<span class="summary-sig-arg">self</span>)</span><br />
      Returns a Connection object</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="proxy.rhnShared-pysrc.html#SharedHandler._create_connection">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_parse_url"></a><span class="summary-sig-name">_parse_url</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">url</span>)</span><br />
      Returns scheme, host, port, path.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="proxy.rhnShared-pysrc.html#SharedHandler._parse_url">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="proxy.rhnShared.SharedHandler-class.html#_serverCommo" class="summary-sig-name" onclick="show_private();">_serverCommo</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">data</span>)</span><br />
      Handler part 2</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="proxy.rhnShared-pysrc.html#SharedHandler._serverCommo">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="proxy.rhnShared.SharedHandler-class.html#_handleServerResponse" class="summary-sig-name" onclick="show_private();">_handleServerResponse</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">status</span>)</span><br />
      This method can be overridden by subclasses who want to handle server
      responses in their own way.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="proxy.rhnShared-pysrc.html#SharedHandler._handleServerResponse">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_get_header"></a><span class="summary-sig-name">_get_header</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">k</span>,
        <span class="summary-sig-arg">headerObj</span>=<span class="summary-sig-default">None</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="proxy.rhnShared-pysrc.html#SharedHandler._get_header">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_clientCommo"></a><span class="summary-sig-name">_clientCommo</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">status</span>=<span class="summary-sig-default">apache.OK</span>)</span><br />
      Handler part 3 Forward server's response to the client.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="proxy.rhnShared-pysrc.html#SharedHandler._clientCommo">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_getHeaders"></a><span class="summary-sig-name">_getHeaders</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">req</span>)</span><br />
      Copy the incoming headers.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="proxy.rhnShared-pysrc.html#SharedHandler._getHeaders">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="proxy.rhnShared.SharedHandler-class.html#_forwardServer2Client" class="summary-sig-name" onclick="show_private();">_forwardServer2Client</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Forward headers, and bodyfd from server to the calling client.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="proxy.rhnShared-pysrc.html#SharedHandler._forwardServer2Client">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_proxy2server"></a><span class="summary-sig-name">_proxy2server</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">body</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="proxy.rhnShared-pysrc.html#SharedHandler._proxy2server">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_getEffectiveURI"></a><span class="summary-sig-name">_getEffectiveURI</span>(<span class="summary-sig-arg">self</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="proxy.rhnShared-pysrc.html#SharedHandler._getEffectiveURI">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="proxy.rhnShared.SharedHandler-class.html#_determineHTTPBodySize" class="summary-sig-name" onclick="show_private();">_determineHTTPBodySize</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">headers</span>)</span><br />
      This routine attempts to determine the size of an HTTP body by 
      searching the headers for a &quot;Content-Length&quot; field.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="proxy.rhnShared-pysrc.html#SharedHandler._determineHTTPBodySize">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="proxy.rhnShared.SharedHandler-class.html#_forwardHTTPHeaders" class="summary-sig-name" onclick="show_private();">_forwardHTTPHeaders</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">fromResponse</span>,
        <span class="summary-sig-arg">toRequest</span>)</span><br />
      This routine will transfer the header contents of an HTTP response to
      the output headers of an HTTP request for reply to the original 
      requesting client.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="proxy.rhnShared-pysrc.html#SharedHandler._forwardHTTPHeaders">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="proxy.rhnShared.SharedHandler-class.html#_forwardHTTPBody" class="summary-sig-name" onclick="show_private();">_forwardHTTPBody</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">fromResponse</span>,
        <span class="summary-sig-arg">toRequest</span>)</span><br />
      This routine will transfer the body of an HTTP response to the output
      area of an HTTP request for response to the original requesting 
      client.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="proxy.rhnShared-pysrc.html#SharedHandler._forwardHTTPBody">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<!-- ==================== METHOD DETAILS ==================== -->
<a name="section-MethodDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Method Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-MethodDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="_serverCommo"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_serverCommo</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">data</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="proxy.rhnShared-pysrc.html#SharedHandler._serverCommo">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Handler part 2</p>
  <p>Server (or next proxy) communication. data is the self.req.read()</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="_handleServerResponse"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_handleServerResponse</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">status</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="proxy.rhnShared-pysrc.html#SharedHandler._handleServerResponse">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>This method can be overridden by subclasses who want to handle server 
  responses in their own way.  By default, we will wrap all the headers up 
  and send them back to the client with an error status.  This method 
  should return apache.OK if everything went according to plan.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="_forwardServer2Client"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_forwardServer2Client</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="proxy.rhnShared-pysrc.html#SharedHandler._forwardServer2Client">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Forward headers, and bodyfd from server to the calling client. For 
  most XMLRPC code, this function is called.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="_determineHTTPBodySize"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_determineHTTPBodySize</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">headers</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="proxy.rhnShared-pysrc.html#SharedHandler._determineHTTPBodySize">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>This routine attempts to determine the size of an HTTP body by 
  searching the headers for a &quot;Content-Length&quot; field.  The size 
  is returned, if found, otherwise 0 is returned.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="_forwardHTTPHeaders"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_forwardHTTPHeaders</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">fromResponse</span>,
        <span class="sig-arg">toRequest</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="proxy.rhnShared-pysrc.html#SharedHandler._forwardHTTPHeaders">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>This routine will transfer the header contents of an HTTP response to 
  the output headers of an HTTP request for reply to the original 
  requesting client.  This function does NOT call the request's 
  send_http_header routine; that is the responsibility of the caller.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="_forwardHTTPBody"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_forwardHTTPBody</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">fromResponse</span>,
        <span class="sig-arg">toRequest</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="proxy.rhnShared-pysrc.html#SharedHandler._forwardHTTPBody">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>This routine will transfer the body of an HTTP response to the output 
  area of an HTTP request for response to the original requesting client. 
  The request's send_http_header function must be called before this 
  function is called.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Fri Jan 22 11:36:19 2010
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
